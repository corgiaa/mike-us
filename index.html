<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®‡å®™å›å¿†é¦† | Our Cosmic Memories</title>
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@4.15.0/dist/av-min.js"></script>
    <style>
        /* --- åŸºç¡€ä¸å®‡å®™èƒŒæ™¯ --- */
        body {
            margin: 0;
            padding: 0;
            background: #000; /* çº¯é»‘ä½œä¸ºå®‡å®™åº•è‰² */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: #fff;
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡å‡ºç° */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* æµæ˜Ÿç”»å¸ƒ */
        #meteor-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none; /* è®©é¼ æ ‡ç©¿é€ï¼Œä¸å½±å“ç‚¹å‡»å…¶ä»–å…ƒç´  */
        }

        /* å®‡å®™ä¸­å¿ƒå…‰æ™• (å¯é€‰è£…é¥°) */
        .cosmic-center-glow {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(135,206,250,0.3) 0%, rgba(0,0,0,0) 70%); /* æ·¡è“è‰²å…‰æ™• */
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulseGlow 8s infinite alternate ease-in-out;
            z-index: 1;
            pointer-events: none;
        }
        @keyframes pulseGlow {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.8; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
        }

        /* --- è®¡æ—¶å™¨ï¼ˆæ”¾åœ¨æ˜¾çœ¼ä½ç½®ï¼‰--- */
        .timer-display {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            letter-spacing: 2px;
            z-index: 100;
            text-shadow: 0 0 5px rgba(135,206,250,0.5);
        }

        /* --- ä¸»è¦å†…å®¹åŒºåŸŸï¼ˆæ»šåŠ¨ï¼‰--- */
        #content-wrapper {
            position: relative;
            z-index: 5; /* ç¡®ä¿å†…å®¹åœ¨æµæ˜Ÿä¹‹ä¸Š */
            width: 100%;
            height: 100vh; /* å……æ»¡å±å¹• */
            overflow-y: auto; /* å…è®¸å†…å®¹åŒºåŸŸæ»šåŠ¨ */
            padding-bottom: 100px; /* åº•éƒ¨ç•™ç™½ç»™æ§åˆ¶é¢æ¿ */
            scroll-behavior: smooth; /* å¹³æ»‘æ»šåŠ¨ */
        }

        /* --- ç…§ç‰‡/å›å¿†å¡ç‰‡ --- */
        #memory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* å“åº”å¼å¸ƒå±€ */
            gap: 40px;
            padding: 80px 20px; /* é¡¶éƒ¨å’Œå·¦å³ç•™ç™½ */
            max-width: 1200px; /* æ§åˆ¶æœ€å¤§å®½åº¦ */
            margin: 0 auto;
            justify-items: center; /* å±…ä¸­å¯¹é½ç½‘æ ¼é¡¹ */
        }

        .memory-card {
            background: rgba(255, 255, 255, 0.08); /* åŠé€æ˜ç»ç’ƒæ•ˆæœ */
            backdrop-filter: blur(15px); /* æ¯›ç»ç’ƒ */
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            text-align: center;
            position: relative;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer; /* æ‚¬åœæœ‰éŸ³ä¹ï¼Œæ‰€ä»¥æ˜¯å¯ç‚¹å‡»çš„ */
            overflow: hidden; /* ç¡®ä¿å›¾ç‰‡åœ†è§’ */
        }
        .memory-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.5), 0 0 20px rgba(135,206,250,0.4); /* æ‚¬åœå‘å…‰ */
        }

        .memory-image {
            width: 100%;
            height: 200px; /* å›ºå®šé«˜åº¦ */
            object-fit: cover; /* è£å‰ªå›¾ç‰‡ä»¥å¡«å…… */
            border-radius: 15px;
            margin-bottom: 15px;
        }
        .memory-text { font-size: 1rem; line-height: 1.6; color: rgba(255, 255, 255, 0.9); margin-bottom: 10px; white-space: pre-wrap; }
        .memory-date { font-size: 0.8rem; color: rgba(255, 255, 255, 0.5); }

        .btn-delete {
            position: absolute;
            top: 15px;
            right: 15px;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.8rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        .btn-delete:hover { color: #ff6b6b; }


        /* --- åº•éƒ¨æ§åˆ¶é¢æ¿ --- */
        #control-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            display: flex;
            justify-content: center;
            gap: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 1000; /* æœ€é«˜å±‚çº§ */
        }
        .control-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        .control-item:hover { color: #87cefa; /* æ‚¬åœäº®è“è‰² */ }
        .control-item i { /* å›¾æ ‡å ä½ç¬¦ï¼Œå¦‚æœç”¨Font Awesomeå°±æ¢æˆç›¸åº”ç±»å */
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        /* --- å¼¹çª—æ ·å¼ --- */
        .modal {
            display: none; /* é»˜è®¤éšè— */
            position: fixed;
            z-index: 1001; /* æ¯”æ§åˆ¶é¢æ¿é«˜ */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.8); /* åŠé€æ˜èƒŒæ™¯ */
            backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.5);
            border: 1px solid rgba(255, 255, 255, 0.3);
            position: relative;
            color: #fff;
        }
        .close-button {
            position: absolute;
            top: 15px;
            right: 25px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
        }
        .close-button:hover { color: #fff; }

        .modal-content h3 { text-align: center; color: #87cefa; margin-bottom: 25px; }
        .modal-content input[type="file"] { display: none; } /* éšè—åŸç”Ÿæ–‡ä»¶è¾“å…¥ */
        .modal-upload-area {
            border: 2px dashed rgba(255, 255, 255, 0.4);
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            margin-bottom: 20px;
            transition: border-color 0.3s, background-color 0.3s;
            color: rgba(255, 255, 255, 0.7);
        }
        .modal-upload-area:hover { border-color: #87cefa; background-color: rgba(135,206,250,0.1); }
        .modal-upload-area p { margin: 0; }
        
        #modal-preview-img { max-width: 100px; border-radius: 8px; margin-top: 15px; display: block; margin-left: auto; margin-right: auto;}
        #modal-preview-container { text-align: center; margin-bottom: 15px; display: none; }

        .modal-content textarea, .modal-content input[type="text"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(0, 0, 0, 0.4);
            color: #fff;
            font-size: 1rem;
            box-sizing: border-box;
        }
        .modal-content textarea::placeholder, .modal-content input::placeholder { color: rgba(255, 255, 255, 0.5); }
        .modal-content button {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: #87cefa; /* äº®è“è‰²æŒ‰é’® */
            color: #000;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .modal-content button:hover { background: #60a8e0; }
        .modal-content button:disabled { background: #ccc; cursor: not-allowed; }

        /* Font Awesome å›¾æ ‡å¼•å…¥ */
        @import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css");
    </style>
</head>
<body>

    <div class="timer-display" id="timer">æ¢ç´¢å®‡å®™ä¸­...</div>

    <canvas id="meteor-canvas"></canvas>

    <div class="cosmic-center-glow"></div>

    <audio id="audio-player" preload="auto"></audio>

    <div id="content-wrapper">
        <div id="memory-grid">
            <p style="text-align:center; color:rgba(255,255,255,0.6); padding-top: 100px;">æ­£åœ¨åŠ è½½å®‡å®™ä¸­çš„å›å¿†...</p>
        </div>
    </div>

    <div id="control-panel">
        <div class="control-item" onclick="openAddModal()">
            <i class="fas fa-plus-circle"></i> <span>æ·»åŠ å›å¿†</span>
        </div>
        <div class="control-item" onclick="scrollToTop()">
            <i class="fas fa-arrow-alt-circle-up"></i> <span>è¿”å›é¡¶éƒ¨</span>
        </div>
        </div>

    <div id="addMemoryModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeAddModal()">&times;</span>
            <h3>æ·»åŠ æ–°çš„å®‡å®™å›å¿†</h3>

            <div class="modal-upload-area" id="modal-drop-area">
                <p>ç‚¹å‡»æˆ–æ‹–æ‹½ç…§ç‰‡åˆ°è¿™é‡Œ (åŸå›¾ä¸Šä¼ )</p>
                <input type="file" id="modal-file-input" accept="image/*">
            </div>
            <div id="modal-preview-container">
                <img id="modal-preview-img" src="">
                <span style="font-size:0.8rem; color:rgba(255,255,255,0.7); margin-top:5px; display:block;">å·²é€‰æ‹©å›¾ç‰‡</span>
            </div>

            <textarea id="modal-text-input" rows="4" placeholder="å†™ä¸‹å›å¿†ä¸­çš„ç‚¹æ»´..."></textarea>
            <input type="text" id="modal-music-input" placeholder="ç²˜è´´éŸ³ä¹URL (å¯é€‰ï¼Œä¾‹å¦‚: .mp3)">
            <button id="modal-publish-btn" onclick="publishMemory()">å‘å¸ƒå›å¿†</button>
        </div>
    </div>


    <script>
        // ==========================================
        // ğŸ‘‡ğŸ‘‡ğŸ‘‡ è®°å¾—é‡æ–°å¡«å…¥ä½ çš„ Key å’Œ Server URL !!! ğŸ‘‡ğŸ‘‡ğŸ‘‡
        // ==========================================
        const APP_ID = 'gxw6RPvsW0eKgz0uvv7r78LF-MdYXbMMI'; 
        const APP_KEY = 'FAhjdMJ1gGA5WggHPqO5cBF8';
        const SERVER_URL = "https://gxw6rpvs.api.lncldglobal.com"; // ä¾‹å¦‚: https://xxxx.api.lncldglobal.com
        // ==========================================

        // LeanCloud åˆå§‹åŒ–
        if (APP_ID === 'ä½ çš„APP_ID' || APP_KEY === 'ä½ çš„APP_KEY') {
            alert("è¯·å…ˆä¿®æ”¹ä»£ç é‡Œçš„ APP_ID å’Œ APP_KEYï¼");
        } else {
             if(SERVER_URL && SERVER_URL.startsWith("http")) {
                 AV.init({ appId: APP_ID, appKey: APP_KEY, serverURL: SERVER_URL });
            } else {
                 AV.init({ appId: APP_ID, appKey: APP_KEY });
            }
        }

        // --- 1. æ‹çˆ±è®¡æ—¶å™¨ ---
        const startDate = new Date("2023-05-20T13:14:00"); 
        setInterval(() => {
            const diff = new Date() - startDate;
            const days = Math.floor(diff / (86400000));
            const hours = Math.floor((diff / 3600000) % 24);
            const minutes = Math.floor((diff / 60000) % 60);
            const seconds = Math.floor((diff / 1000) % 60);
            document.getElementById('timer').innerText = `å·²ç›¸çˆ± ${days} å¤© ${hours} æ—¶ ${minutes} åˆ† ${seconds} ç§’`;
        }, 1000);

        // --- 2. æµæ˜ŸèƒŒæ™¯åŠ¨ç”» ---
        const canvas = document.getElementById('meteor-canvas');
        const ctx = canvas.getContext('2d');
        let meteors = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function createMeteor() {
            return {
                x: Math.random() * canvas.width,
                y: Math.random() * -canvas.height, // ä»å±å¹•ä¸Šæ–¹éšæœºä½ç½®è¿›å…¥
                length: Math.random() * 80 + 20, // 20-100
                speed: Math.random() * 5 + 2, // 2-7
                angle: Math.PI / 4 + Math.random() * (Math.PI / 8) - Math.PI / 16, // 45åº¦å·¦å³
                brightness: Math.random() * 0.5 + 0.5 // äº®åº¦ 0.5-1
            };
        }

        function updateMeteors() {
            for (let i = 0; i < meteors.length; i++) {
                const m = meteors[i];
                m.x += m.speed * Math.cos(m.angle);
                m.y += m.speed * Math.sin(m.angle);

                // å¦‚æœæµæ˜Ÿå‡ºç•Œï¼Œé‡æ–°ç”Ÿæˆ
                if (m.y > canvas.height + m.length || m.x > canvas.width + m.length) {
                    meteors[i] = createMeteor();
                }
            }
        }

        function drawMeteors() {
            ctx.clearRect(0, 0, canvas.width, canvas.height); // æ¸…ç©ºç”»å¸ƒ
            meteors.forEach(m => {
                ctx.beginPath();
                const gradient = ctx.createLinearGradient(m.x, m.y, m.x + m.length * Math.cos(m.angle), m.y + m.length * Math.sin(m.angle));
                gradient.addColorStop(0, `rgba(255, 255, 255, ${m.brightness})`);
                gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
                ctx.strokeStyle = gradient;
                ctx.lineWidth = 1.5;
                ctx.moveTo(m.x, m.y);
                ctx.lineTo(m.x + m.length * Math.cos(m.angle), m.y + m.length * Math.sin(m.angle));
                ctx.stroke();
            });
        }

        function animateMeteors() {
            updateMeteors();
            drawMeteors();
            requestAnimationFrame(animateMeteors);
        }

        // åˆå§‹åŒ–æµæ˜Ÿ
        for (let i = 0; i < 30; i++) { // 30æ¡æµæ˜Ÿ
            meteors.push(createMeteor());
        }
        animateMeteors();

        // --- 3. éŸ³ä¹æ’­æ”¾å™¨ ---
        const audioPlayer = document.getElementById('audio-player');
        let currentPlayingCard = null;

        function playMusic(musicUrl, cardElement) {
            if (!musicUrl) return;

            // å¦‚æœå½“å‰æœ‰å¡ç‰‡æ­£åœ¨æ’­æ”¾ï¼Œä¸”ä¸æ˜¯ç‚¹å‡»çš„è¿™å¼ ï¼Œå…ˆæš‚åœ
            if (currentPlayingCard && currentPlayingCard !== cardElement) {
                audioPlayer.pause();
            }

            // å¦‚æœç‚¹å‡»çš„æ˜¯åŒä¸€å¼ å¡ç‰‡ï¼Œå°±åˆ‡æ¢æ’­æ”¾/æš‚åœ
            if (currentPlayingCard === cardElement) {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                } else {
                    audioPlayer.pause();
                }
            } else { // å¦åˆ™æ’­æ”¾æ–°å¡ç‰‡çš„éŸ³ä¹
                audioPlayer.src = musicUrl;
                audioPlayer.play();
                currentPlayingCard = cardElement;
            }
        }

        // --- 4. æ¨¡æ€æ¡†é€»è¾‘ ---
        const addMemoryModal = document.getElementById('addMemoryModal');
        const modalFileInput = document.getElementById('modal-file-input');
        const modalDropArea = document.getElementById('modal-drop-area');
        const modalPreviewContainer = document.getElementById('modal-preview-container');
        const modalPreviewImg = document.getElementById('modal-preview-img');
        const modalTextInput = document.getElementById('modal-text-input');
        const modalMusicInput = document.getElementById('modal-music-input');
        const modalPublishBtn = document.getElementById('modal-publish-btn');
        let modalSelectedFile = null;

        function openAddModal() {
            addMemoryModal.style.display = 'flex'; // æ˜¾ç¤ºæ¨¡æ€æ¡†
            // é‡ç½®çŠ¶æ€
            modalSelectedFile = null;
            modalFileInput.value = '';
            modalPreviewContainer.style.display = 'none';
            modalDropArea.style.display = 'block';
            modalTextInput.value = '';
            modalMusicInput.value = '';
            modalPublishBtn.innerText = "å‘å¸ƒå›å¿†";
            modalPublishBtn.disabled = false;
        }

        function closeAddModal() {
            addMemoryModal.style.display = 'none'; // éšè—æ¨¡æ€æ¡†
        }

        // æ¨¡æ€æ¡†å†…æ–‡ä»¶æ‹–æ‹½/é€‰æ‹©
        modalDropArea.addEventListener('click', () => modalFileInput.click());
        modalFileInput.addEventListener('change', (e) => handleModalFile(e.target.files[0]));
        modalDropArea.addEventListener('drop', (e) => { e.preventDefault(); handleModalFile(e.dataTransfer.files[0]); });
        ['dragenter', 'dragover'].forEach(e => modalDropArea.addEventListener(e, (ev)=>{ ev.preventDefault(); modalDropArea.style.borderColor = '#87cefa'; }));
        ['dragleave', 'drop'].forEach(e => modalDropArea.addEventListener(e, (ev)=>{ ev.preventDefault(); modalDropArea.style.borderColor = 'rgba(255, 255, 255, 0.4)'; }));

        function handleModalFile(file) {
            if (!file || !file.type.startsWith('image/')) return;
            modalSelectedFile = file;
            const reader = new FileReader();
            reader.onload = (e) => {
                modalPreviewImg.src = e.target.result;
                modalPreviewContainer.style.display = 'block';
                modalDropArea.style.display = 'none';
            };
            reader.readAsDataURL(file);
        }

        // --- 5. å‘å¸ƒå›å¿† (åˆ° LeanCloud) ---
        async function publishMemory() {
            const text = modalTextInput.value;
            const music = modalMusicInput.value;
            
            if (!text && !modalSelectedFile) return alert("å†…å®¹ä¸èƒ½ä¸ºç©ºå“¦ï¼");

            modalPublishBtn.disabled = true;
            modalPublishBtn.innerText = "ä¸Šä¼ ä¸­...";

            try {
                let imgUrl = "";
                if (modalSelectedFile) {
                    const avFile = new AV.File(modalSelectedFile.name, modalSelectedFile);
                    await avFile.save();
                    imgUrl = avFile.url();
                }

                const Memory = AV.Object.extend('Memory');
                const memory = new Memory();
                memory.set('content', text);
                memory.set('imgUrl', imgUrl);
                memory.set('musicUrl', music); // ä¿å­˜éŸ³ä¹URL
                await memory.save();

                alert("å›å¿†å·²å‘å¸ƒåˆ°å®‡å®™ï¼");
                closeAddModal(); // å…³é—­å¼¹çª—
                loadMemories(); // é‡æ–°åŠ è½½åˆ—è¡¨
            } catch (error) {
                console.error(error);
                alert("å‘å¸ƒå¤±è´¥: " + error.message);
                modalPublishBtn.innerText = "å‘å¸ƒå›å¿†";
                modalPublishBtn.disabled = false;
            }
        }

        // --- 6. åŠ è½½å›å¿†åˆ—è¡¨ ---
        async function loadMemories() {
            const query = new AV.Query('Memory');
            query.descending('createdAt');
            query.limit(30); // é™åˆ¶æ¯æ¬¡åŠ è½½30æ¡
            
            try {
                const list = await query.find();
                const container = document.getElementById('memory-grid');
                container.innerHTML = ''; // æ¸…ç©ºç°æœ‰å†…å®¹

                if (list.length === 0) {
                    container.innerHTML = '<p style="text-align:center; color:rgba(255,255,255,0.6); padding-top: 100px;">è¿™é‡Œè¿˜æ²¡æœ‰å›å¿†å“¦ï¼Œç‚¹å‡»ä¸‹æ–¹â€œæ·»åŠ å›å¿†â€æŒ‰é’®ï¼Œå¼€å§‹ä½ ä»¬çš„å®‡å®™ä¹‹æ—…å§ï¼</p>';
                    return;
                }

                list.forEach(obj => {
                    const data = obj.attributes;
                    const card = document.createElement('div');
                    card.className = 'memory-card';
                    card.setAttribute('data-music-url', data.musicUrl || ''); // å­˜å‚¨éŸ³ä¹URL
                    
                    let imgHtml = data.imgUrl ? `<img src="${data.imgUrl}" class="memory-image" loading="lazy">` : '';
                    
                    card.innerHTML = `
                        ${imgHtml}
                        <div class="memory-text">${data.content || ''}</div>
                        <div class="memory-date">${obj.createdAt.toLocaleString()}</div>
                        <div class="btn-delete" onclick="deleteMemory(event, '${obj.id}')">åˆ é™¤</div>
                    `;
                    container.appendChild(card);
                });

                // ä¸ºæ¯å¼ å¡ç‰‡æ·»åŠ é¼ æ ‡æ‚¬åœäº‹ä»¶
                document.querySelectorAll('.memory-card').forEach(card => {
                    const musicUrl = card.getAttribute('data-music-url');
                    if (musicUrl) {
                        card.addEventListener('mouseenter', () => playMusic(musicUrl, card));
                        card.addEventListener('mouseleave', () => audioPlayer.pause()); // é¼ æ ‡ç§»å¼€æš‚åœ
                    }
                });

            } catch (error) {
                console.error("åŠ è½½å›å¿†å¤±è´¥:", error);
                document.getElementById('memory-grid').innerHTML = '<p style="text-align:center; color:rgba(255,255,255,0.6); padding-top: 100px;">å›å¿†åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢ã€‚</p>';
            }
        }

        // --- 7. åˆ é™¤å›å¿† ---
        async function deleteMemory(event, id) {
            event.stopPropagation(); // é˜»æ­¢äº‹ä»¶å†’æ³¡åˆ°å¡ç‰‡ï¼Œé¿å…åˆ é™¤æ—¶è§¦å‘éŸ³ä¹
            if(!confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡å®‡å®™å›å¿†å—ï¼Ÿ")) return;
            const obj = AV.Object.createWithoutData('Memory', id);
            await obj.destroy();
            loadMemories(); // åˆ·æ–°
        }

        // --- 8. è¿”å›é¡¶éƒ¨æŒ‰é’® ---
        function scrollToTop() {
            document.getElementById('content-wrapper').scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆæ—¶
        document.addEventListener('DOMContentLoaded', loadMemories);

    </script>
</body>
</html>